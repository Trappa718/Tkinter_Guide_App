import tkinter as tk
import random
from tkinter import messagebox

class GuessNumberGame:
    def __init__(self, root):
        self.root = root
        self.root.title("Угадай число")
        self.root.geometry("400x400")
        
        self.secret_number = 0
        self.attempts = 0
        self.max_attempts = 10
        
        self.create_widgets()
        self.new_game()
    
    def create_widgets(self):
        """Создание виджетов интерфейса"""
        # Заголовок
        self.title_label = tk.Label(self.root, text="Угадай число от 1 до 100", 
                                   font=("Arial", 16, "bold"))
        self.title_label.pack(pady=20)
        
        # Поле ввода
        self.guess_frame = tk.Frame(self.root)
        self.guess_frame.pack(pady=10)
        
        tk.Label(self.guess_frame, text="Ваш вариант:", font=("Arial", 12)).pack(side=tk.LEFT)
        self.guess_entry = tk.Entry(self.guess_frame, font=("Arial", 12), width=10)
        self.guess_entry.pack(side=tk.LEFT, padx=10)
        self.guess_entry.bind("<Return>", lambda e: self.check_guess())
        
        # Кнопка проверки
        self.check_button = tk.Button(self.root, text="Проверить", 
                                     command=self.check_guess, font=("Arial", 12))
        self.check_button.pack(pady=10)
        
        # Подсказка
        self.hint_label = tk.Label(self.root, text="", font=("Arial", 12), 
                                  fg="blue")
        self.hint_label.pack(pady=10)
        
        # Счетчик попыток
        self.attempts_label = tk.Label(self.root, text="", font=("Arial", 10))
        self.attempts_label.pack(pady=5)
        
        # Кнопка новой игры
        self.new_game_button = tk.Button(self.root, text="Новая игра", 
                                        command=self.new_game, font=("Arial", 12),
                                        bg="lightgreen")
        self.new_game_button.pack(pady=20)
    
    def new_game(self):
        """Начало новой игры"""
        self.secret_number = random.randint(1, 100)
        self.attempts = 0
        self.guess_entry.delete(0, tk.END)
        self.hint_label.config(text="Введите число и нажмите 'Проверить'")
        self.attempts_label.config(text=f"Попытки: {self.attempts}/{self.max_attempts}")
        self.check_button.config(state=tk.NORMAL)
        self.guess_entry.config(state=tk.NORMAL)
    
    def check_guess(self):
        """Проверка введенного числа"""
        try:
            guess = int(self.guess_entry.get())
            self.attempts += 1
            
            if guess < self.secret_number:
                self.hint_label.config(text="Загаданное число БОЛЬШЕ", fg="red")
            elif guess > self.secret_number:
                self.hint_label.config(text="Загаданное число МЕНЬШЕ", fg="red")
            else:
                self.hint_label.config(text=f"Поздравляем! Вы угадали за {self.attempts} попыток", fg="green")
                self.check_button.config(state=tk.DISABLED)
                self.guess_entry.config(state=tk.DISABLED)
                return
            
            self.attempts_label.config(text=f"Попытки: {self.attempts}/{self.max_attempts}")
            
            if self.attempts >= self.max_attempts:
                self.hint_label.config(text=f"Игра окончена! Число было: {self.secret_number}", fg="red")
                self.check_button.config(state=tk.DISABLED)
                self.guess_entry.config(state=tk.DISABLED)
                
        except ValueError:
            messagebox.showerror("Ошибка", "Введите целое число!")

# Запуск игры
root = tk.Tk()
game = GuessNumberGame(root)
root.mainloop()